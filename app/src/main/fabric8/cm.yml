data:
  keycloak.json: |-
      {
        "realm": "${SSO_REALM}",
        "auth-server-url": "${SSO_AUTH_SERVER_URL}",
        "resource": "${SSO_CLIENT_ID}",
        "ssl-required": "external",
        "credentials": {
          "secret": "${SSO_CREDENTIALS_SECRET}"
        },
        "bearer-only": true,
        "enable-cors": true
      }
  clarksnut-config.yml: |-
      project:
        stage: custom
      swarm:
        ee:
          spec-descriptor-property-replacement: true
        ejb3:
          timer-service:
            thread-pool-name: default
            default-data-store: clustered-store
            database-data-stores:
              clustered-store:
                database: "${DB_DRIVER}"
                datasource-jndi-name: "java:jboss/datasources/ClarksnutDS"
                partition: timer
        infinispan:
          cache-containers:
            jberet:
              default-cache: JOB_EXECUTION
              jgroups-transport:
                lock-timeout: 60000
              distributed-caches:
                JOB_INSTANCE:
                  mode: ASYNC
                  l1-lifespan: 0
                  string-jdbc-store:
                    fetch-state: false
                    purge: false
                    data-source: ClarksnutDS
                    string-table:
                      prefix: "JBERET_ISPN"
                      data-column: "DATA_COLUMN"
                      id-column: "ID_COLUMN"
                      timestamp-column: "TIMESTAMP_COLUMN"
                JOB_EXECUTION:
                  mode: ASYNC
                  l1-lifespan: 0
                  string-jdbc-store:
                    fetch-state: false
                    purge: false
                    data-source: ClarksnutDS
                    string-table:
                      prefix: "JBERET_ISPN"
                      data-column: "DATA_COLUMN"
                      id-column: "ID_COLUMN"
                      timestamp-column: "TIMESTAMP_COLUMN"
                STEP_EXECUTION:
                  mode: ASYNC
                  l1-lifespan: 0
                  string-jdbc-store:
                    fetch-state: false
                    purge: false
                    data-source: ClarksnutDS
                    string-table:
                      prefix: "JBERET_ISPN"
                      data-column: "DATA_COLUMN"
                      id-column: "ID_COLUMN"
                      timestamp-column: "TIMESTAMP_COLUMN"
                PARTITION_EXECUTION:
                  mode: ASYNC
                  l1-lifespan: 0
                  string-jdbc-store:
                    fetch-state: false
                    purge: false
                    data-source: ClarksnutDS
                    string-table:
                      prefix: "JBERET_ISPN"
                      data-column: "DATA_COLUMN"
                      id-column: "ID_COLUMN"
                      timestamp-column: "TIMESTAMP_COLUMN"
                seq:
                  mode: SYNC
                  l1-lifespan: 0
                  transaction-component:
                    mode: BATCH
                    locking: PESSIMISTIC
                  string-jdbc-store:
                    fetch-state: false
                    purge: false
                    data-source: ClarksnutDS
                    string-table:
                      prefix: "JBERET_ISPN"
                      data-column: "DATA_COLUMN"
                      id-column: "ID_COLUMN"
                      timestamp-column: "TIMESTAMP_COLUMN"
        datasources:
          data-sources:
            ClarksnutDS:
              jndi-name: java:jboss/datasources/ClarksnutDS
              driver-name: ${DB_DRIVER}
              connection-url: ${DB_URL}
              user-name: ${DB_USERNAME}
              password: ${DB_PASSWORD}
      clarksnut:
        fileStorage:
          provider: jpa
        report:
          default: clarksnut
          cacheReports: true
          cacheTemplates: true
          folder:
            dir: /reports
        theme:
          default: clarksnut
          staticMaxAge: 2592000
          cacheThemes: true
          cacheTemplates: true
          folder:
            dir: /themes
        mail:
          vendor:
            gmail:
              applicationName: 'Clarksnut'